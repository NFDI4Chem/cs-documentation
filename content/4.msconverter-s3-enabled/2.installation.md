---
title: Installation
description: Mass Spectrometry File Converter.
navigation:
  icon: icon-park-outline:install
---

# Initial Step
It is recommended to build three Docker images on your hosted machine for proper functionality.
Inside the docker_instance directory, you will find three subfolders:
- `main_workflow_docker` - orchestrates the other microservices
- `msconvert_docker` - handles MS file conversion
- `validation_docker` - performs data validation and file convert


# Steps of installation


::tabs

:::tabs-item{label="Installation" icon="ri:install-fill"}

Steps for Docker Based Mass Spectrometry File Converter Installation

::steps{level="4"}


#### Clone the repository
```bash
git clone https://github.com/NFDI4Chem/cs-ms-converter.git
```

#### Go inside the folder `msconverter-docker`
```bash
cd msconverter-docker
```

> Before creating all the individual images please make sure that on `credentials/.env` the `s3-credentials` are filled. All of the images should be hainvg the same container name

#### Create a main workflow image

To build the main workflow image, navigate inside the main_workflow_docker directory and run the following command (replace `main_api` with your desired image name if needed):

```bash
docker build -t main_api  .
```

#### Create an msconvert image

To build the msconvert image, navigate inside the msconvert_docker directory and execute the following command:

```bash
docker build -t msconvert_image  .
```

#### Create a validation image
To build the validation image, navigate inside the msconvert_docker directory and run the following command:
```bash
docker build -t validation_image  .
```

::
:::
::




# Setup

::tabs

:::tabs-item{label="Docker Setup" icon="devicon:docker"}

Once the Docker images have been successfully built, the next step is to launch containers for each service. Before doing so, it is recommended to create a dedicated Docker network to enable seamless communication between these containers.

::steps{level="4"}

#### Create a Docker Network
Use the command below to create a custom network named `my_network` (as example):

```bash
docker network create my_network
```

#### Creating main workflow container
The `main_workflow` container functions as the central orchestrator for the microservices. The command line is used to create a container called `nfdi4chem-ms-main-workflow` with conditions mentioned above.

```bash
docker run -d -ti -p 5000:5000 --name nfdi4chem-ms-main-workflow --network my_network main_api
```

#### Create msconverter container

The `msconvert` service is built upon the [ProteWizard container](https://github.com/ProteoWizard/container), enhanced with added additional API endpoints to enable automated data conversion. It executes the standard msconvert command and accepts parameters as specified in the [official documentation](https://proteowizard.sourceforge.io/tools/msconvert.html).

Like the main workflow container, this service should be connected to a shared host directory and the my_network Docker network to enable file exchange and inter-container communication. âœ… It is recommended to name the container `nfdi4chem-ms-msconvert` for consistent communication across the conatiner environment.

Launch the container with the following command:

```bash
docker run -d -ti -p 4000:4000  --name nfdi4chem-ms-msconvert --network my_network msconvert_image
```

#### Create validation container

The validation microservice is based on the official [OpenMS container](https://hub.docker.com/r/biocontainers/openms), and has been extended with custom API endpoints to support validation of mzML files, as described in the [FileInfo documentation](https://openms.de/doxygen/release/2.5.0/html/TOPP_FileInfo.html). Additionally, it incorporates functionality to correct or reprocess mzML files using [FileConverter](https://openms.de/documentation/html/TOPP_FileConverter.html).

ðŸš¨ For consistency and interoperability, it is recommended to name this container `nfdi4chem-ms-validation`.

Following the same network setup as in Steps 1 and 2, the container can be launched using the command below

```bash
docker run -d -ti -p 3000:3000  --name nfdi4chem-ms-validation --network my_network validation_image
```

::
:::

::
