{"id":"docs/2.msconverter-cwl-based/2.installation.md","title":"Installation","body":{"type":"minimark","value":[["h1",{"id":"requirements"},"Requirements"],["note",{},["p",{},"The following packages are essential for the proper functioning of the converter service"]],["ul",{},["li",{},"Python version 3.9 or higher"],["li",{},["a",{"href":"https://docs.docker.com/engine/install/","rel":["nofollow"]},"docker"]],["li",{},["a",{"href":"https://www.commonwl.org/","rel":["nofollow"]},"cwltool"]]],["h1",{"id":"ways-of-using-the-converter"},"Ways of using the converter"],["p",{},"The converter servie can be installed or deployed in three different ways:"],["tabs",{},["tabs-item",{"icon":"tdesign:laptop","label":"Local Installation"},["p",{},"This is for installlation of items on local machine"],["steps",{"level":"4"},["h4",{"id":"clone-the-repository"},"Clone the repository"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","code":"git clone https://github.com/NFDI4Chem/cs-ms-converter.git\n","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sBMFI"},"git"],["span",{"class":"sfazB"}," clone"],["span",{"class":"sfazB"}," https://github.com/NFDI4Chem/cs-ms-converter.git\n"]]]],["h4",{"id":"go-inside-the-folder-msconverter-cwl-based"},"Go inside the folder ",["code",{},"msconverter-cwl-based"]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","code":"cd msconverter-cwl-based\n","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s2Zo4"},"cd"],["span",{"class":"sfazB"}," msconverter-cwl-based\n"]]]],["h4",{"id":"create-a-python-virtual-environment-and-activate-it"},"Create a python virtual environment and activate it"],["p",{},["a",{"href":"https://docs.python.org/3/library/venv.html","rel":["nofollow"]},"How to create a python virtual environment"]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","code":"python3 -m venv <your desired virtual environment name>\n","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sBMFI"},"python3"],["span",{"class":"sfazB"}," -m"],["span",{"class":"sfazB"}," venv"],["span",{"class":"sMK4o"}," <"],["span",{"class":"sfazB"},"your"],["span",{"class":"sfazB"}," desired"],["span",{"class":"sfazB"}," virtual"],["span",{"class":"sfazB"}," environment"],["span",{"class":"sfazB"}," nam"],["span",{"class":"sTEyZ"},"e"],["span",{"class":"sMK4o"},">\n"]]]],["h4",{"id":"activate-the-environment"},"Activate the environment"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","code":"source <path to your desired virtual environment name>/bin/activate\n","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"s2Zo4"},"source"],["span",{"class":"sMK4o"}," <"],["span",{"class":"sfazB"},"path"],["span",{"class":"sfazB"}," to"],["span",{"class":"sfazB"}," your"],["span",{"class":"sfazB"}," desired"],["span",{"class":"sfazB"}," virtual"],["span",{"class":"sfazB"}," environment"],["span",{"class":"sfazB"}," nam"],["span",{"class":"sTEyZ"},"e"],["span",{"class":"sMK4o"},">"],["span",{"class":"sfazB"},"/bin/activate\n"]]]],["h4",{"id":"install-necessary-requirements"},"Install necessary requirements"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","code":"pip install -r requirements.txt\n","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sBMFI"},"pip"],["span",{"class":"sfazB"}," install"],["span",{"class":"sfazB"}," -r"],["span",{"class":"sfazB"}," requirements.txt\n"]]]],["h4",{"id":"run-the-main-file-rest_apipy"},"Run the main file ",["code",{},"rest_api.py"]],["pre",{"className":"language-python shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","code":"python rest_api.py\n","filename":"rest_api.py","language":"python","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{},"python rest_api.py\n"]]]],["p",{},"or"],["pre",{"className":"language-python shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","code":"python rest_api.py\n","filename":"rest_api.py","language":"python","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{},"python rest_api.py\n"]]]],["h4",{"id":"url-will-be-available-on-httplocalhost5000api-docs"},"URL will be available on ",["a",{"href":"http://localhost:5000/api-docs#","rel":["nofollow"]},"http://localhost:5000/api-docs#"]]]],["tabs-item",{"icon":"mdi:docker","label":"Docker Installation"},["p",{},"This is for installlation of items on Docker"],["steps",{"level":"4"},["h4",{"id":"pull-the-docker-image"},"Pull the Docker Image"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","code":"docker pull docker pull lincoln1010/mass_spectrometry_file_converter:v2.1.1\n","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sBMFI"},"docker"],["span",{"class":"sfazB"}," pull"],["span",{"class":"sfazB"}," docker"],["span",{"class":"sfazB"}," pull"],["span",{"class":"sfazB"}," lincoln1010/mass_spectrometry_file_converter:v2.1.1\n"]]]],["h4",{"id":"running-the-container"},"Running the container:"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","code":"docker run --privileged -d -ti --name < name of the container > -p 5000:5000 -e CPU=<number of cpu eg: 1> -e THREAD=<number of threads eg: 1> lincoln1010/mass_spectrometry_file_converter:v2.1.1\n","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sBMFI"},"docker"],["span",{"class":"sfazB"}," run"],["span",{"class":"sfazB"}," --privileged"],["span",{"class":"sfazB"}," -d"],["span",{"class":"sfazB"}," -ti"],["span",{"class":"sfazB"}," --name"],["span",{"class":"sMK4o"}," <"],["span",{"class":"sfazB"}," name"],["span",{"class":"sfazB"}," of"],["span",{"class":"sfazB"}," the"],["span",{"class":"sfazB"}," container"],["span",{"class":"sMK4o"}," >"],["span",{"class":"sfazB"}," -p"],["span",{"class":"sfazB"}," 5000:5000"],["span",{"class":"sfazB"}," -e"],["span",{"class":"sfazB"}," CPU="],["span",{"class":"sMK4o"},"<"],["span",{"class":"sfazB"},"number"],["span",{"class":"sfazB"}," of"],["span",{"class":"sfazB"}," cpu"],["span",{"class":"sfazB"}," eg:"],["span",{"class":"sMK4o"}," 1>"],["span",{"class":"sfazB"}," -e"],["span",{"class":"sfazB"}," THREAD="],["span",{"class":"sMK4o"},"<"],["span",{"class":"sfazB"},"number"],["span",{"class":"sfazB"}," of"],["span",{"class":"sfazB"}," threads"],["span",{"class":"sfazB"}," eg:"],["span",{"class":"sMK4o"}," 1>"],["span",{"class":"sfazB"}," lincoln1010/mass_spectrometry_file_converter:v2.1.1\n"]]]],["h4",{"id":"enabling-the-docker-in-docker-which-is-necessary"},"Enabling the docker in docker (which is necessary):"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","code":"docker exec < name of the container > dockerd >/tmp/docker.stdout 2>/tmp/docker.stderr &\n","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sBMFI"},"docker"],["span",{"class":"sfazB"}," exec"],["span",{"class":"sMK4o"}," <"],["span",{"class":"sfazB"}," name"],["span",{"class":"sfazB"}," of"],["span",{"class":"sfazB"}," the"],["span",{"class":"sfazB"}," container"],["span",{"class":"sMK4o"}," >"],["span",{"class":"sfazB"}," dockerd"],["span",{"class":"sMK4o"}," >"],["span",{"class":"sfazB"},"/tmp/docker.stdout"],["span",{"class":"sMK4o"}," 2>"],["span",{"class":"sfazB"},"/tmp/docker.stderr"],["span",{"class":"sMK4o"}," &\n"]]]],["p",{},"The converter supports all arguments listed on the ",["a",{"href":"https://proteowizard.sourceforge.io/tools/msconvert.html","rel":["nofollow"]},"MSConvert Documentation"],"."],["h4",{"id":"copy-extra-parameters-on-configtxt-file"},"Copy extra parameters on config.txt file:"],["ul",{},["li",{},"Create a config.txt file with content , for example, --mzXML (without any indentation)"],["li",{},"Copying config.txt file to /app/config.txt inside the container"]],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","code":"docker cp < path to your config.txt file > < name of the container >:/app/config.txt\n","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sBMFI"},"docker"],["span",{"class":"sfazB"}," cp"],["span",{"class":"sMK4o"}," <"],["span",{"class":"sfazB"}," path"],["span",{"class":"sfazB"}," to"],["span",{"class":"sfazB"}," your"],["span",{"class":"sfazB"}," config.txt"],["span",{"class":"sfazB"}," file"],["span",{"class":"sMK4o"}," >"],["span",{"class":"sMK4o"}," <"],["span",{"class":"sfazB"}," name"],["span",{"class":"sfazB"}," of"],["span",{"class":"sfazB"}," the"],["span",{"class":"sfazB"}," container"],["span",{"class":"sMK4o"}," >"],["span",{"class":"sfazB"},":/app/config.txt\n"]]]],["h4",{"id":"url-will-be-available-on-httplocalhost5000api-docs-1"},"URL will be available on ",["a",{"href":"http://localhost:5000/api-docs#","rel":["nofollow"]},"http://localhost:5000/api-docs#"]]]],["tabs-item",{"icon":"pajamas:kubernetes","label":"Kubernetes Installation"},["p",{},"The deployment of Kubernetes instance is done via ",["a",{"href":"https://helm.sh/","rel":["nofollow"]},"Helm chart"],". The helmchart repository is available at ",["a",{"href":"https://git.rwth-aachen.de/linsherpa/msconverter-helmchart","rel":["nofollow"]},"Helm Chart: Mass Sptrometry File Converter"]],["steps",{"level":"4"},["h4",{"id":"clone-the-repository-1"},"Clone the repository"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","code":"git clone https://git.rwth-aachen.de/linsherpa/msconverter-helmchart.git\n","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sBMFI"},"git"],["span",{"class":"sfazB"}," clone"],["span",{"class":"sfazB"}," https://git.rwth-aachen.de/linsherpa/msconverter-helmchart.git\n"]]]],["h4",{"id":"provide-necessary-changes-on-the-valuesyaml-such-as-name-of-app-namespace-persistent-volume-claims-apiconnection-timeouts-cpu-thread-etc"},"Provide necessary changes on the values.yaml such as ",["code",{},"name of app, namespace, persistent volume claims, APIConnection timeouts, CPU , THREAD,"]," etc"],["h4",{"id":"command-for-deploying-helm-chart"},"Command for deploying Helm Chart"],["pre",{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","code":"helm install -f values.yaml < name-of-the-helm-app > .\n","language":"bash","meta":"","style":""},["code",{"__ignoreMap":""},["span",{"class":"line","line":1},["span",{"class":"sBMFI"},"helm"],["span",{"class":"sfazB"}," install"],["span",{"class":"sfazB"}," -f"],["span",{"class":"sfazB"}," values.yaml"],["span",{"class":"sMK4o"}," <"],["span",{"class":"sfazB"}," name-of-the-helm-app"],["span",{"class":"sMK4o"}," >"],["span",{"class":"sfazB"}," .\n"]]]],["h4",{"id":"url-will-be-available-on-httplocalhost5000api-docs-2"},"URL will be available on ",["a",{"href":"http://localhost:5000/api-docs#","rel":["nofollow"]},"http://localhost:5000/api-docs#"]]]]],["style",{},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sBMFI, html code.shiki .sBMFI{--shiki-light:#E2931D;--shiki-default:#FFCB6B;--shiki-dark:#FFCB6B}html pre.shiki code .sfazB, html code.shiki .sfazB{--shiki-light:#91B859;--shiki-default:#C3E88D;--shiki-dark:#C3E88D}html pre.shiki code .s2Zo4, html code.shiki .s2Zo4{--shiki-light:#6182B8;--shiki-default:#82AAFF;--shiki-dark:#82AAFF}html pre.shiki code .sMK4o, html code.shiki .sMK4o{--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF}html pre.shiki code .sTEyZ, html code.shiki .sTEyZ{--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8}"]],"toc":{"title":"","searchDepth":1,"depth":2,"links":[]}},"description":"Mass Spectometry File Coverter.","extension":"md","links":null,"meta":{},"navigation":{"icon":"icon-park-outline:install"},"path":"/msconverter-cwl-based/installation","seo":{"title":"Installation","description":"Mass Spectometry File Coverter."},"stem":"2.msconverter-cwl-based/2.installation","__hash__":"sDIlJKm-UHmHBEYDlwqrBZkXer_alscbpafOqHPhDjw"}